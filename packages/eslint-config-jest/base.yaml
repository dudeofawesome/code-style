overrides:
  - files:
      - '**/test/**'
      - '**/__test__/**'
      - '*.test.*'
      - '*.spec.*'
      - '*.unit.*'
      - '*.e2e.*'
    extends:
      - 'plugin:eslint-plugin-jest/recommended'
    settings:
      jest:
        version: 'detect'

    rules:
      # Disallow `return` statements in tests.
      jest/no-test-return-statement: 'error'

      # Prefer Jest comparators instead of boolean comparisons.
      # This leads to better test failure messages.
      jest/prefer-comparison-matcher: 'error'
      jest/prefer-equality-matcher: 'error'

      # Prefer Jest's `expect(foo()).resolve` instead of `expect(await foo())`.
      # This leads to better test failure messages.
      jest/prefer-expect-resolves: 'error'

      # Require Jest hooks to be inside a `describe`.
      jest/require-top-level-describe: 'error'

      # Allow test to import unpublished files.
      n/no-unpublished-import: 'off'

      # Allow test files to be any length.
      max-lines: 'off'

      # Don't require dot notation in tests.
      # This can be useful for accessing Typescript `private` properties & methods
      dot-notation: 'off'
      '@typescript-eslint/dot-notation': 'off'

      # Allow `any` in tests.
      '@typescript-eslint/no-explicit-any': 'off'
      '@typescript-eslint/no-unsafe-return': 'off'
      '@typescript-eslint/no-unsafe-assignment': 'off'
      '@typescript-eslint/no-unsafe-member-access': 'off'
      '@typescript-eslint/no-unsafe-argument': 'off'

      # Allow non-null assertions in tests.
      '@typescript-eslint/no-non-null-assertion': 'off'
      '@typescript-eslint/no-non-null-asserted-optional-chain': 'off'

      # Simplify testing methods.
      '@typescript-eslint/unbound-method': 'off'

      # Allow tests to throw literals.
      '@typescript-eslint/no-throw-literal': 'off'
